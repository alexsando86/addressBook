{"version":3,"sources":["components/AddrList.tsx","images/friends_illustration_style1.png","components/MakeAddr.tsx","App.tsx","server/db.ts","server/firebase.ts","index.tsx","components/MakeAddr.module.css"],"names":["AddrList","friendName","phone","address","onRemove","onModify","className","styles","name","buttons","type","onClick","modify","remove","MakeAddr","addressDB","useState","addButtonText","setAddButtonText","selectValue","setSelectValue","data","setData","inputValue","setInputValue","onChange","event","target","value","read","val","useEffect","makeAddr","select","forms","required","defaultValue","selectIdx","options","selectedIndex","text","disabled","hidden","autoComplete","placeholder","pattern","maxLength","addr","preventDefault","phoneReplace","replace","update","addAddr","friendImage","friendImageOn","src","alt","userName","addressList","Object","keys","map","item","App","database","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","appId","databaseUrl","callback","ref","on","snapshot","targetName","selectName","postData","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.8d41fcd3.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { addrValue } from \"./MakeAddr\";\r\nimport styles from \"./MakeAddr.module.css\";\r\n\r\nconst AddrList = ({ friendName, phone, address, onRemove, onModify }: addrValue) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<tr>\r\n\t\t\t\t<td className={styles.name}>{friendName}</td>\r\n\t\t\t\t<td className={styles.phone}>{phone}</td>\r\n\t\t\t\t<td className={styles.address}>{address}</td>\r\n\t\t\t\t<td className={styles.buttons}>\r\n\t\t\t\t\t<button type=\"button\" onClick={() => onModify(friendName, phone, address)} className={styles.modify}>수정</button>\r\n\t\t\t\t\t<button type=\"button\" onClick={() => onRemove(friendName)} className={styles.remove}>삭제</button>\r\n\t\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default AddrList;\r\n","export default __webpack_public_path__ + \"static/media/friends_illustration_style1.00c848cf.png\";","import React, { useState, useEffect } from \"react\";\r\nimport AddrList from \"./AddrList\";\r\nimport styles from \"./MakeAddr.module.css\";\r\nimport friendImage from \"../images/friends_illustration_style1.png\";\r\n\r\nexport interface addrValue {\r\n\tfriendName: string;\r\n\tphone: string;\r\n\taddress: string;\r\n\tonRemove?: any;\r\n\tonModify?: any;\r\n}\r\n\r\nconst MakeAddr = ({ addressDB }: any) => {\r\n\tconst [addButtonText, setAddButtonText] = useState<string>(\"추가\");\r\n\tconst [selectValue, setSelectValue] = useState<string>(\"\");\r\n\tconst [data, setData] = useState<any>({});\r\n\tconst [inputValue, setInputValue] = useState<addrValue>({\r\n\t\tfriendName: \"\",\r\n\t\tphone: \"\",\r\n\t\taddress: \"\",\r\n\t});\r\n\tconst { friendName, phone, address } = inputValue;\r\n\r\n\t// input value 변경값을 저장.\r\n\tconst onChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n\t\tsetInputValue({\r\n\t\t\t...inputValue,\r\n\t\t\t[event.target.name]: event.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\t// select 선택시 텍스트값을 저장.\r\n\tconst onSelectChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\r\n\t\tconst selectIdx = event.target.options.selectedIndex;\r\n\t\tsetSelectValue(event.target.options[selectIdx].text);\r\n\t};\r\n\r\n\t// 친구추가 data update\r\n\tconst onAdd = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n\t\tevent.preventDefault();\r\n\t\tconst phoneReplace = phone.replace(/-/g, \"\").replace(/(\\d{3})(\\d{4})(\\d{4})/, \"$1-$2-$3\");\r\n\t\tif (friendName && selectValue) {\r\n\t\t\taddressDB.update(selectValue, friendName, phoneReplace, address);\r\n\t\t\taddressDB.read(selectValue, (val: any) => {\r\n\t\t\t\tsetData(val);\r\n\t\t\t});\r\n\t\t\tsetInputValue({\r\n\t\t\t\tfriendName: \"\",\r\n\t\t\t\tphone: \"\",\r\n\t\t\t\taddress: \"\",\r\n\t\t\t});\r\n\r\n\t\t\taddButtonText === \"수정\" && setAddButtonText(\"추가\");\r\n\t\t}\r\n\t};\r\n\r\n\t// 친구수정\r\n\tconst onModify = (friendName: string, phone: string, address: string) => {\r\n\t\tsetInputValue({\r\n\t\t\t...inputValue,\r\n\t\t\tfriendName,\r\n\t\t\tphone,\r\n\t\t\taddress,\r\n\t\t});\r\n\t\tsetAddButtonText(\"수정\");\r\n\t};\r\n\r\n\t// 친구 data 삭제\r\n\tconst onRemove = (friendName: string) => {\r\n\t\taddressDB.remove(selectValue, friendName);\r\n\t\taddressDB.read(selectValue, (val: any) => {\r\n\t\t\tsetData(val);\r\n\t\t});\r\n\t};\r\n\r\n\t// initial data loading\r\n\tuseEffect(() => {\r\n\t\taddressDB.read(selectValue, (val: any) => {\r\n\t\t\tsetData(val);\r\n\t\t});\r\n\t}, [addressDB, selectValue]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={styles.makeAddr}>\r\n\t\t\t\t<div className={`${styles.select} ${styles.forms}`}>\r\n\t\t\t\t\t<select required defaultValue={\"DEFAULT\"} onChange={onSelectChange} className=\"selectUser\">\r\n\t\t\t\t\t\t<option value=\"DEFAULT\" disabled hidden>\r\n\t\t\t\t\t\t\t대상을 선택하세요\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t<option value=\"jacob\">상현이</option>\r\n\t\t\t\t\t\t<option value=\"zzang\">짱짱이</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={`${styles.name} ${styles.forms}`}>\r\n\t\t\t\t\t<input type=\"text\" name=\"friendName\" value={friendName} autoComplete=\"off\" placeholder=\"이름\" onChange={onChange} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={`${styles.phone} ${styles.forms}`}>\r\n\t\t\t\t\t<input type=\"tel\" name=\"phone\" value={phone} pattern=\"[0-9]\" maxLength={11} autoComplete=\"off\" placeholder=\"전화번호 (숫자만 입력)\" onChange={onChange} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={`${styles.addr} ${styles.forms}`}>\r\n\t\t\t\t\t<input type=\"text\" name=\"address\" value={address} autoComplete=\"off\" placeholder=\"주소\" onChange={onChange} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<button type=\"button\" onClick={onAdd} className={styles.addAddr}>\r\n\t\t\t\t\t{addButtonText}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<div className={`${styles.friendImage} ${selectValue && styles.friendImageOn}`}>\r\n\t\t\t\t<img src={friendImage} alt=\"\" />\r\n\t\t\t</div>\r\n\t\t\t{selectValue && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<h3 className={styles.userName}>{selectValue}님의 주소록</h3>\r\n\t\t\t\t\t<div className={styles.addressList}>\r\n\t\t\t\t\t\t<table>\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th>이름</th>\r\n\t\t\t\t\t\t\t\t\t<th>전화번호</th>\r\n\t\t\t\t\t\t\t\t\t<th>주소</th>\r\n\t\t\t\t\t\t\t\t\t<th>삭제</th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t{Object.keys(data!).map((item) => {\r\n\t\t\t\t\t\t\t\t\tconst { friendName, phone, address } = data![item];\r\n\t\t\t\t\t\t\t\t\treturn <AddrList key={item} friendName={friendName} phone={phone} address={address} onRemove={onRemove} onModify={onModify} />;\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default MakeAddr;\r\n","import \"./App.css\";\nimport MakeAddr from \"./components/MakeAddr\";\n\nfunction App({ addressDB }: any) {\n\treturn (\n\t\t<>\n\t\t\t<h1 className=\"App\">Son's friends contact Address Book</h1>\n\t\t\t<MakeAddr addressDB={addressDB} />\n\t\t</>\n\t);\n}\n\nexport default App;\n","import firebaseApp from \"./firebase\";\r\n\r\nconst database = firebaseApp.database();\r\n\r\nclass AddrDataBase {\r\n\tread(name: string, callback: any) {\r\n\t\tdatabase.ref(`address/${name}`).on(\"value\", (snapshot) => {\r\n\t\t\tconst val = snapshot.val();\r\n\t\t\tsnapshot.val() && callback(val);\r\n\t\t});\r\n\t}\r\n\r\n\tadd() {}\r\n\r\n\tremove(name: string, targetName?: string) {\r\n\t\tdatabase.ref(`address/${name}/${targetName}`).remove();\r\n\t}\r\n\t\r\n\tupdate(selectName: string, friendName: string, phone: string, address: string) {\r\n\t\tconst postData = {\r\n\t\t\tfriendName, phone, address\r\n\t\t}\r\n\t\tdatabase.ref(`address/${selectName}/${friendName}`).update(postData);\r\n\t}\r\n}\r\n\r\nexport default AddrDataBase;\r\n","import firebase from \"firebase\";\n\nconst firebaseConfig = {\n\tapiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n\tauthDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n\tprojectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n\tstorageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n\tappId: process.env.REACT_APP_FIREBASE_APP_ID,\n\tdatabaseUrl: process.env.REACT_APP_DATABASE_URL,\n};\n\n// Initialize Firebase\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\n\nexport default firebaseApp;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport AddrDataBase from \"./server/db\";\n\nconst addressDB = new AddrDataBase();\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App addressDB={addressDB} />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makeAddr\":\"MakeAddr_makeAddr__3iUkT\",\"forms\":\"MakeAddr_forms__a4mYI\",\"select\":\"MakeAddr_select__22zWM\",\"addr\":\"MakeAddr_addr__3pvep\",\"name\":\"MakeAddr_name__2vQPB\",\"phone\":\"MakeAddr_phone__1lcH8\",\"userName\":\"MakeAddr_userName__3RGcH\",\"addressList\":\"MakeAddr_addressList__5mnvq\",\"address\":\"MakeAddr_address__FV1QD\",\"remove\":\"MakeAddr_remove__fh5TA\",\"modify\":\"MakeAddr_modify___1qb0\",\"friendImage\":\"MakeAddr_friendImage__389qE\",\"friendImageOn\":\"MakeAddr_friendImageOn__2UbFB\"};"],"sourceRoot":""}